<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AV Checklist</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Light Mode Default Styles */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            color: #1f2937;
            transition: background-color 0.3s, color 0.3s;
        }
        .card {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            transition: all 0.2s ease-in-out;
        }
        .card:hover {
             box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        .task-item input:checked + span {
            text-decoration: line-through;
            color: #6b7280;
        }
        .progress-bar-container {
            background-color: #e5e7eb;
            border-radius: 9999px;
            height: 0.75rem;
            width: 100%;
            overflow: hidden;
        }
        .progress-bar {
            background-color: #3b82f6;
            height: 100%;
            border-radius: 9999px;
            transition: width 0.5s ease-in-out;
            text-align: center;
            color: white;
            font-size: 0.6rem;
            line-height: 0.75rem;
        }
        header {
            background-color: white;
        }

        /* Dark Mode Styles */
        .dark body {
            background-color: #111827;
            color: #d1d5db;
        }
        .dark .card {
            background-color: #1f2937;
            border: 1px solid #374151;
        }
        .dark header {
            background-color: #1f2937;
            border-bottom: 1px solid #374151;
        }
        .dark h1, .dark h2 {
            color: #f9fafb;
        }
        .dark .task-item input:checked + span {
            color: #9ca3af;
        }
        .dark .progress-bar-container {
            background-color: #374151;
        }
        .dark .progress-text {
            color: #9ca3af;
        }

    </style>
</head>
<body class="antialiased">

    <!-- Header -->
    <header class="shadow-sm">
        <div class="max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8 flex justify-between items-center">
            <div>
                <h1 class="text-3xl font-bold leading-tight">AV Checklist</h1>
                <p class="mt-1 text-md text-gray-600 dark:text-gray-400">Always makes life easier!</p>
            </div>
            <button id="theme-toggle" class="p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white">
                <svg id="theme-toggle-dark-icon" class="hidden h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                </svg>
                <svg id="theme-toggle-light-icon" class="hidden h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
                </svg>
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <main class="py-10">
        <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">

            <!-- Vertically Aligned Checklist Sections -->
            <div class="space-y-8">

                <!-- Pre-Service Setup Card -->
                <div class="card p-6 checklist-card">
                    <h2 class="text-xl font-semibold border-b pb-3 mb-4">Pre-Service Setup</h2>
                    <div class="mb-4">
                        <div class="progress-bar-container">
                            <div class="progress-bar" style="width: 0%;"></div>
                        </div>
                        <div class="text-right mt-1 text-xs font-medium text-gray-500 progress-text">0%</div>
                    </div>
                    <ul class="space-y-3">
                        <li class="task-item"><label class="flex items-center"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"><span>Power On all the AC upstairs</span></label></li>
                        <li class="task-item"><label class="flex items-center"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"><span>Nursing Room: Smartphone on Youtube + speakers.</span></label></li>
                        <li class="task-item"><label class="flex items-center"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"><span>Projector</span></label></li>
                        <li class="task-item"><label class="flex items-center"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"><span>Sound Board</span></label></li>
                        <li class="task-item"><label class="flex items-center"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"><span>2x Wireless Mic Receivers</span></label></li>
                        <li class="task-item"><label class="flex items-center"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"><span>Mics and Cables on stage</span></label></li>
                        <li class="task-item"><label class="flex items-center"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"><span>Monitor box</span></label></li>
                        <li class="task-item"><label class="flex items-center"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"><span>2x Amplifiers</span></label></li>
                        <li class="task-item"><label class="flex items-center"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"><span>Headmic 1 + Batteries</span></label></li>
                        <li class="task-item"><label class="flex items-center"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"><span>Wireless mic + Batteries</span></label></li>
                        <li class="task-item"><label class="flex items-center"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"><span>Camera</span></label></li>
                        <li class="task-item"><label class="flex items-center"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"><span>Atem BlackMagic + Enable Mic 1</span></label></li>
                    </ul>
                </div>
                
                <!-- Software & Video Preparation Card -->
                <div class="card p-6 checklist-card">
                    <h2 class="text-xl font-semibold border-b pb-3 mb-4">Software & Video Preparation</h2>
                    <div class="mb-4">
                        <div class="progress-bar-container">
                            <div class="progress-bar" style="width: 0%;"></div>
                        </div>
                        <div class="text-right mt-1 text-xs font-medium text-gray-500 progress-text">0%</div>
                    </div>
                    <ul class="space-y-3">
                        <li class="task-item"><label class="flex items-center"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"><span>Planning Center Service Page</span></label></li>
                        <li class="task-item"><label class="flex items-center"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"><span>OBS</span></label></li>
                        <li class="task-item"><label class="flex items-center"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"><span>Music (Playlist folder on desktop)</span></label></li>
                        <li class="task-item"><label class="flex items-center"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"><span>Youtube Livestream Page</span></label></li>
                        <li class="task-item"><label class="flex items-center"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"><span>Check the Order of Service in Planning Center.</span></label></li>
                        <li class="task-item"><label class="flex items-center"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"><span>Create the Easy Worship Schedule.</span></label></li>
                        <li class="task-item"><label class="flex items-center"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"><span>Confirm every slide (no cut off text).</span></label></li>
                        <li class="task-item"><label class="flex items-center"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"><span>Confirm lyrics with Worship leader.</span></label></li>
                    </ul>
                </div>

                <!-- Sound Check & Calibration Card -->
                <div class="card p-6 checklist-card">
                    <h2 class="text-xl font-semibold border-b pb-3 mb-4">Sound Check & Calibration</h2>
                    <div class="mb-4">
                        <div class="progress-bar-container">
                            <div class="progress-bar" style="width: 0%;"></div>
                        </div>
                        <div class="text-right mt-1 text-xs font-medium text-gray-500 progress-text">0%</div>
                    </div>
                    <ul class="space-y-3">
                        <li class="task-item"><label class="flex items-center"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"><span>Confirm 2x Wireless Mics work</span></label></li>
                        <li class="task-item"><label class="flex items-center"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"><span>Confirm OBS is getting sound (enable MIC 1 on Atem)</span></label></li>
                        <li class="task-item"><label class="flex items-center"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"><span>Confirm Monitor Speakers work</span></label></li>
                        <li class="task-item"><label class="flex items-center"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"><span>Confirm House Speakers work</span></label></li>
                        <li class="task-item"><label class="flex items-center"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"><span>PFL on one track at a time to confirm volume is green. Adjust GAIN dial as needed.</span></label></li>
                        <li class="task-item"><label class="flex items-center"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"><span>Ask Music crew if monitor volume is OK.</span></label></li>
                        <li class="task-item"><label class="flex items-center"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"><span>Set Church Speakers sliders (bottom right) to around -5.</span></label></li>
                    </ul>
                </div>

                <!-- Before service starts Card -->
                <div class="card p-6 checklist-card">
                    <h2 class="text-xl font-semibold border-b pb-3 mb-4">Before service starts</h2>
                    <div class="mb-4">
                        <div class="progress-bar-container">
                            <div class="progress-bar" style="width: 0%;"></div>
                        </div>
                        <div class="text-right mt-1 text-xs font-medium text-gray-500 progress-text">0%</div>
                    </div>
                    <ul class="space-y-3">
                        <li class="task-item"><label class="flex items-center"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"><span>Screen is down</span></label></li>
                        <li class="task-item"><label class="flex items-center"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"><span>Projector is on</span></label></li>
                        <li class="task-item"><label class="flex items-center"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"><span>Youtube Livestream is live</span></label></li>
                        <li class="task-item"><label class="flex items-center"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"><span>Mics are ready</span></label></li>
                    </ul>
                </div>

            </div>
        </div>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const themeToggleBtn = document.getElementById('theme-toggle');
            const themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');
            const themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');

            // Check for saved theme in localStorage and apply it
            if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                themeToggleLightIcon.classList.remove('hidden');
                document.documentElement.classList.add('dark');
            } else {
                themeToggleDarkIcon.classList.remove('hidden');
                document.documentElement.classList.remove('dark');
            }

            themeToggleBtn.addEventListener('click', function() {
                // toggle icons inside button
                themeToggleDarkIcon.classList.toggle('hidden');
                themeToggleLightIcon.classList.toggle('hidden');

                // if set via local storage previously
                if (localStorage.getItem('color-theme')) {
                    if (localStorage.getItem('color-theme') === 'light') {
                        document.documentElement.classList.add('dark');
                        localStorage.setItem('color-theme', 'dark');
                    } else {
                        document.documentElement.classList.remove('dark');
                        localStorage.setItem('color-theme', 'light');
                    }
                // if NOT set via local storage previously
                } else {
                    if (document.documentElement.classList.contains('dark')) {
                        document.documentElement.classList.remove('dark');
                        localStorage.setItem('color-theme', 'light');
                    } else {
                        document.documentElement.classList.add('dark');
                        localStorage.setItem('color-theme', 'dark');
                    }
                }
            });


            // Select all cards that have checklists
            const checklistCards = document.querySelectorAll('.checklist-card');

            // Function to update the progress for a single card
            function updateCardProgress(card) {
                const checkboxes = card.querySelectorAll('.task-item input[type="checkbox"]');
                const totalTasks = checkboxes.length;
                const checkedTasks = card.querySelectorAll('.task-item input[type="checkbox"]:checked').length;
                
                const progressBar = card.querySelector('.progress-bar');
                const progressText = card.querySelector('.progress-text');

                const percentage = totalTasks > 0 ? Math.round((checkedTasks / totalTasks) * 100) : 0;
                
                if (progressBar && progressText) {
                    progressBar.style.width = percentage + '%';
                    progressBar.textContent = percentage + '%';
                    progressText.textContent = `${percentage}% Complete`;
                }
            }

            // Set up each card
            checklistCards.forEach(card => {
                const checkboxes = card.querySelectorAll('.task-item input[type="checkbox"]');
                
                // Add event listener to each checkbox to update its parent card's progress
                checkboxes.forEach(checkbox => {
                    checkbox.addEventListener('change', () => updateCardProgress(card));
                });

                // Initial calculation for each card on page load
                updateCardProgress(card);
            });
        });
    </script>

</body>
</html>
